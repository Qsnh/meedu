# 版本 4.9.21

- 修复:支付宝支付和微信支付开关状态读取错误的Bug

# 版本 4.9.20

- 修复:如果管理员不具有后台主面板权限登录将报错403无权限
- 修复:dockerfile构建文件未考虑到laravle.log日志权限问题导致运行失败的Bug
- 优化:系统日志权限合并

# 版本 4.9.19

- 修复:管理员登录后根据其所属权限动态跳转到具有权限的页面
- 优化:提升文件存储的兼容性
- 优化:系统日志权限合并
- 优化:删除后台统计相关API代码[已废弃]

# 版本 4.9.18

- 修复:视频上传如果不选择分类报参数错误的Bug

# 版本 4.9.17

- 新增:H5页面增加微信公众号的分享处理(支持首页、我的、课程页、播放页四个页面的分享)
- 优化:短信配置项的名称
- 优化:重构了微信公众号的服务端验证逻辑
- 优化:删除微信公众号的AesKey配置项
- 优化:删除插件服务配置
- 优化:删除在线安装插件相关功能
- 修复:后台资源-图片列表在小屏幕设备溢出的Bug
- 修复:PC学员登录之微信扫码登录的有效期时间为10s的bug
- 修复:后台选择图片按钮的权限改由素材库-图片列表权限决定
- 修复:因课程下存在空章节导致课程的学员学习记录查看报错的Bug
- 修复:后台录播课上传附件的文件编写错误的Bug
- 修复:PC导航栏如果导航地址相同的话二级菜单同时显示的Bug

# 版本 4.9.16

- 修复:后台视频上传权限丢失的Bug
- 优化:完善API文档

# 版本 4.9.15

- 新增:视频素材库分类
- 新增:录播课评论审核机制
- 新增:录播课课时评论审核机制
- 新增:录播课是否允许评论开关
- 新增:录播课课时是否允许评论开关
- 新增:录播课评论显示地区
- 新增:录播课课时评论显示地区
- 新增:后台系统审计日志清空按钮
- 新增:学员导入新增昵称字段
- 修复:录播课批量导入学员未统计订阅人数的bug
- 修复:视频后缀mp4非小写无法上传的bug
- 优化:新增学员的昵称、头像改为可选字段

# 版本 4.9.14

- 新增:微信H5支付
- 优化:重构支付业务逻辑

# 版本 4.9.13

- 优化:[API]重构图片、课件存储

# 版本 4.9.12

- 新增:[API]Redis数据库的env配置项
- 优化:[API]删除云片短信服务
- 优化:[API]重构安装程序界面
- 优化:[API]重构微信公众号的扫码登录
- 优化:[API]删除微信公众号消息回复
- 优化:[API]删除微信公众号菜单编辑
- 优化:[API]腾讯云点播的视频播放稳定性

# 版本 4.9.11

- 新增:[API]阿里云点播域名配置
- 新增:[API]阿里云点播播放域名`key`自动化配置
- 新增:[API]阿里云点播播放域名的跨域配置自动化配置
- 新增:[API]阿里云点播回调自动化配置
- 新增:[API]腾讯云点播域名配置
- 新增:[API]腾讯云点播播放域名`key`自动化配置
- 新增:[API]腾讯云点播回调自动化配置
- 新增:[后台]运行日志下载
- 修复:[API]全文搜索默认值读取`http://localhost:7700`的BUG
- 修复:[H5]短信验证登录成功之后先跳转到登录页面再跳转到我的页面的BUG
- 修复:[H5]短信验证码登录失败页面自动跳回登录界面的BUG
- 修复:[H5]短信登录图形验证码输出错误按钮`loading`状态未重置的BUG
- 修复:[H5]密码登录账号密码按钮`loading`状态未重置的BUG
- 修复:[H5]当录播课下章节视频为空点击目录会导致页面崩溃的BUG
- 修复:[后台]运行日志不自动换行导致页面溢出
- 修复:[后台]`token`过期自动跳转到登录页面
- 修复:[后台]修复后台装修录播课列表和录播课课程的链接错误的BUG
- 修复:[PC]录播课分类过长导致样式溢出的BUG
- 修复:[PC]短信注册使用手机号登录scene的BUG
- 修复:[其它]`docker-compose`运行方式下默认上传文件大小改为`10M`
- 优化:[API]系统根据配置的API地址决定是否使用`https`协议(此项更新解决代理部署下的URL生成协议为HTTP的问题)
- 优化:[API]`CORS`跨域的缓存时间提升到15天
- 优化:[API]`Redis`链接错误的信息提示
- 优化:[API]移除`mobiledetect/mobiledetectlib`依赖包
- 优化:[API]移除**七牛云**的支持
- 优化:[API]系统处于维护中时抛出异常错误的友好返回
- 优化:[API]移除`app.debug`的配置
- 优化:[API]重命名网站名配置为`meedu.system.name`
- 优化:[全端口]课程附件下载重构提升了安全性

# 版本 4.9.10

- 新增:从环境变量读取配置(meilisearch)
- 新增:会员服务协议-购买VIP会员需要同意此协议
- 新增:后台-程序运行日志的查看(最新1000行的laravel.log日志内容)
- 新增:一次性的初始化管理员账号命令(用于 `docker` 容器部署首次初始化数据)
- 修复:反向代理部署等情况下 `url`,`route` 等函数返回地址中域名使用的是内网 `host` 的bug
- 修复:删除学员的录播课观看记录未清空子课时的学习记录bug
- 修复:单元测试报错
- 修复: `Window` 操作系统执行 `docker-compose up -d` 无法运行 `meedu` 容器
- 修复:小屏幕设备添加管理角色时无法全部查看和选择权限
- 优化: `docker-compose` 镜像替换为国内镜像源
- 优化:提升会员、优惠码、公众号新建、编辑的交互
- 优化:选择图片组件样式优化
- 优化:优化后台界面的异常处理
- 优化:移除优惠码奖励字段(此字段早已废弃)

# 版本 4.9.9

- 新增:API限流IP白名单配置
- 新增:代理带名单配置，从而获得客户真实IP
- 新增: `Docker` 部署
- 新增: `docker-compose` 部署
- 新增: `H5` 使用 `React18` 重新开发
- 新增:系统初次安装需要配置 `API`,`PC`,`H5` 的访问地址才可以使用后台