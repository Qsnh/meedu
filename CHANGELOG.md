## 4.9.11

### 新增

- 新增:[API]阿里云点播域名配置
- 新增:[API]阿里云点播播放域名`key`自动化配置
- 新增:[API]阿里云点播播放域名的跨域配置自动化配置
- 新增:[API]阿里云点播回调自动化配置
- 新增:[API]腾讯云点播域名配置
- 新增:[API]腾讯云点播播放域名`key`自动化配置
- 新增:[API]腾讯云点播回调自动化配置
- 新增:[后台]运行日志下载

### 修复

- 修复:[H5]当录播课下章节视频为空点击目录会导致页面崩溃的BUG
- 修复:[后台]运行日志不自动换行导致页面溢出
- 修复:[后台]`token`过期自动跳转到登录页面
- 修复:[PC]短信注册使用手机号登录`scene`的BUG
- 修复:[API]全文搜索默认值读取`http://localhost:7700`的BUG
- 修复:[其它]`docker-compose`运行方式下默认上传文件大小改为`10M`

### 优化

- 优化:[API]系统根据配置的API地址决定是否使用`https`协议(此项更新解决代理部署下的URL生成协议为HTTP的问题)
- 优化:[API]`CORS`跨域的缓存时间提升到15天
- 优化:[API]`Redis`链接错误的信息提示
- 优化:[API]移除`mobiledetect/mobiledetectlib`依赖包
- 优化:[API]移除**七牛云**的支持
- 优化:[API]系统处于维护中时抛出异常错误的友好返回
- 优化:[API]移除`app.debug`的配置
- 优化:[API]重命名网站名配置为`meedu.system.name`
- 优化:[全端口]课程附件下载重构提升了安全性

## 4.9.10

- 新增:从环境变量读取配置(meilisearch)
- 新增:会员服务协议-购买VIP会员需要同意此协议
- 新增:后台-程序运行日志的查看(最新1000行的laravel.log日志内容)
- 新增:一次性的初始化管理员账号命令(用于 `docker` 容器部署首次初始化数据)
- 修复:反向代理部署等情况下 `url`,`route` 等函数返回地址中域名使用的是内网 `host` 的bug
- 修复:删除学员的录播课观看记录未清空子课时的学习记录bug
- 修复:单元测试报错
- 修复: `Window` 操作系统执行 `docker-compose up -d` 无法运行 `meedu` 容器
- 修复:小屏幕设备添加管理角色时无法全部查看和选择权限
- 优化: `docker-compose` 镜像替换为国内镜像源
- 优化:提升会员、优惠码、公众号新建、编辑的交互
- 优化:选择图片组件样式优化
- 优化:优化后台界面的异常处理
- 移除:优惠码奖励字段(此字段早已废弃)

## 4.9.9

- 新增:API限流IP白名单配置
- 新增:代理带名单配置，从而获得客户真实IP
- 新增: `Docker` 部署
- 新增: `docker-compose` 部署
- 新增: `H5` 使用 `React18` 重新开发
- 新增:系统初次安装需要配置 `API`,`PC`,`H5` 的访问地址才可以使用后台